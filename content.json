{"meta":{"title":"Li ' s Blog","subtitle":"写字的地方","description":"写写字","author":"李子灿","url":"https://banatech.org","root":"/"},"pages":[{"title":"","date":"2022-05-08T12:03:04.514Z","updated":"2022-05-08T12:03:04.501Z","comments":true,"path":"categories/index.html","permalink":"https://banatech.org/categories/index.html","excerpt":"","text":""},{"title":"","date":"2022-05-08T12:01:16.605Z","updated":"2022-05-08T12:01:16.593Z","comments":true,"path":"tags/index.html","permalink":"https://banatech.org/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"使用Golang从零实现一个简易Web框架","slug":"lee-go","date":"2022-05-18T15:01:43.000Z","updated":"2022-05-18T15:02:44.468Z","comments":true,"path":"20220518/f9010c4d8c98.html","link":"","permalink":"https://banatech.org/20220518/f9010c4d8c98.html","excerpt":"","text":"序言很多时候当我们需要实现一个web应用，第一时间想到的就是去使用哪个框架,然而不同的框架有不同的设计理念,提供的功能也有很大的差别 ,比如Java的Spring ,Python的flask 、django ,Go的 Beego、Gin 、Iris 等。那我们为什么不直接使用语言提供的标准库编写呢？要回答这个问题，首先明白框架的核心应该为我们提供什么？ 为什么要用框架？ 只有理解这些才能知道我们在框架中需要实现那些功能。为了深入理解Gin框架的代码和设计。本项目将会参考Gin框架实现Gin框架中部分的功能,学习一门技术最好的方式就是看懂后自己去实现一遍。Gin框架的代码一共约1万4千行，其中测试代码9千行，也就是说实际代码只有5千行, 小而美。非常值得初学者去学习。 目前已实现的功能 动态路由 路由分组 添加中间件 HTML模板 数据映射 开发中….. 功能演示开启一个HTTP服务12345678910package mainimport &quot;lee&quot;func main()&#123; r := lee.Default() r.Get(&quot;/&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;Hello world&quot;) &#125;) r.Run(&quot;:9000&quot;) &#125; 使用中间件12345678910111213141516171819202122package mainimport &quot;lee&quot;// auth 定义中间件逻辑func auth() lee.HandlerFunc &#123; return func(ctx *lee.Context) &#123; username := ctx.Query(&quot;username&quot;) if username == &quot;lee&quot; &#123; ctx.Next() &#125; ctx.Abort() &#125;&#125;func main()&#123; r := lee.Default() r.Use(auth()) // 使用中间件 r.Get(&quot;/&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;Hello world&quot;) &#125;) r.Run(&quot;:9000&quot;) &#125; 动态路由1234567891011func main()&#123; r := lee.Default() r.Use(auth()) // 使用中间件 r.Get(&quot;/user/:username&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;Hello world&quot;) &#125;) r.Get(&quot;/assets/*filepath&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;Hello world&quot;) &#125;) r.Run(&quot;:9000&quot;) &#125; 路由分组12345678910111213141516171819202122232425262728293031323334353637383940414243package mainimport &quot;lee&quot;// auth 定义中间件逻辑func auth() lee.HandlerFunc &#123; return func(ctx *lee.Context) &#123; username := ctx.Query(&quot;username&quot;) if username == &quot;lee&quot; &#123; ctx.Next() &#125; ctx.Abort() &#125;&#125;func auth2() lee.HandlerFunc &#123; return func(ctx *lee.Context) &#123; username := ctx.Query(&quot;username&quot;) if username == &quot;lee2&quot; &#123; ctx.Next() &#125; ctx.Abort() &#125;&#125;func main()&#123; r := lee.Default() r.Get(&quot;/&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;Hello world&quot;) &#125;) g1 := r.Group(&quot;v1&quot;) g1.Use(auth()) g1.Get(&quot;/user&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;g1&quot;) &#125;) g2 := r.Group(&quot;v2&quot;) g2.Use(auth2()) g2.Get(&quot;/post&quot;, func(ctx *lee.Context) &#123; fmt.Fprint(ctx.Writer, &quot;g2&quot;) &#125;) r.Run(&quot;:9000&quot;)&#125;","categories":[],"tags":[{"name":"Go","slug":"Go","permalink":"https://banatech.org/tags/Go/"}]}],"categories":[],"tags":[{"name":"Go","slug":"Go","permalink":"https://banatech.org/tags/Go/"}]}